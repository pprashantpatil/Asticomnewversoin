<app-loader *ngIf="loader"></app-loader>
<app-commonalertpage *ngIf="loader"></app-commonalertpage>
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div>
                <div>
                    <ul>
                        <!-- <li *ngIf=" roleid==9"><a class="active Heading" routerLink="/Employee/AttendanceReports"> 
                            <p class="Heading" [style.color]="'#1125a9;'">My Attendance Report</p>
                            <hr *ngIf="roleid==2 || roleid==9" class="line-border">
                        
                        </a></li> -->

                        <li *ngIf=" roleid==6"><a class="active Heading underlineHeading"
                                routerLink="/Employee/AttendanceReports">

                                <p class="Heading" [style.color]="'#1125a9;'">My Attendance Correction Report</p>
                                <hr *ngIf="roleid==2 || roleid==9" class="line-border">
                            </a></li>

                        <li *ngIf="roleid==2"><a class="leavelist" routerLink="/Manager/TeamAttendanceReports">My Team
                                Attendance
                                Report</a>
                        </li>
                        <li *ngIf="roleid==9"><a class="leavelist" routerLink="/Manager/TeamAttendanceReports">Staff
                                Attendance
                                Report</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <div class="d-flex flex-wrap ">
                    <div class="d-flex align-items-center">
                        <img src="assets/Images/revamp/filter.svg" class="filter-img">
                        <p class="filter">Filter by:</p>
                    </div>
                    <div class="cardinputs">
                        <p class="leavereq">Select Dates
                            <input type="bsdate" placeholder="mm/dd/yyyy-mm/dd/yyyy" class="form-control" bsDaterangepicker
                                [(ngModel)]="startdate1" (ngModelChange)="getenddate($event)"
                                [bsConfig]="{showWeekNumbers:false }">
                    </div>
                    <!-- <div class="cardinputs" style="font-family: 'Poppins';">
                        <p>Search
                        <input class="form-control search-icon" type="search" id="term" name="term"
                            [(ngModel)]="term" (ngModelChange)="Filterstaff()" placeholder="Search here...">
                        </p>
                    </div> -->
                    <div class="cardinputs">
                        <button class="butn-sadow" type="button" (click)="exportexcel()" data-toggle="modal"
                            data-target="#exampleModalCenter">Download Attendance</button>
                    </div>
                    <!-- <div class="cardinputs">
                        <p class="active">Count : {{attendancelist.length}}</p>
                    </div> -->
                    <!-- <div class="col-md-2">
                        <p>Start Date
                            <input type="date" onkeydown="return false"id="startdate" name="startdate" [(ngModel)]="startdate"
                                class="form-control">
                        </p>
                    </div>
                    <div class="col-md-2">
                        <p>End Date
                            <input type="date" onkeydown="return false"id="enddate" name="enddate" [(ngModel)]="enddate"
                            (change)="getenddate($event)" class="form-control">
                        </p>
                    </div> -->




                    <!-- <div class="d-flex flex-wrap">
                        <div _ngcontent-eak-c218="" class="" style="width: 80px;"></div>
                       
                    </div> -->
                </div>
            </div>

            <div class="row mt-1">
                <div class="col-md-10">
                    <p class="show3res">SHOWING <span>{{(correctionlist1|filter:term)?.length}}</span>
                        RESULTS
                    </p>
                </div>
            </div>



            <div class="row">
                <div class="col-12">

                    <div class="listscroll">
                        <table class="table" id="lvs">
                            <thead>
                                <tr>

                                    <th>Date</th>
                                    <th>Start Time</th>
                                    <th>End Time</th>
                                    <th>Comments</th>
                                    <th>Manager Corrected Date</th>
                                    <th>Manager Corrected Time</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let item of correctionlist1|filter: term|paginate: { itemsPerPage: count1, currentPage: p}">
                                    <td>{{item.date|date}}</td>
                                    <td>{{item.startTime}}</td>
                                    <td>{{item.endTime}}</td>
                                    <td>
                                        <p *ngIf="item.comment==null">No Comments</p>
                                        <p *ngIf="item.comment!=null">{{item.comment}}</p>
                                    </td>
                                    <td>{{item.modifiedDate|date}}</td>
                                    <td>{{item.modifiedDate|date:'hh:mm'}}</td>
                                    <td>{{item.status}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <span class="NoResultShow" *ngIf="correctionlist1?.length==0"><b>Sorry, we couldn't find any
                                results.</b></span><br>
                    </div>

                </div>
                <div class="text-right" *ngIf="correctionlist1?.length>count1">
                    <pagination-controls (pageChange)="p = $event" previousLabel="" nextLabel=""
                        class="poppinns"></pagination-controls>
                </div>
            </div>

        </div>
    </div>
</div>


<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="loader-class ">
                    <span class="header-loading-attend" id="exampleModalLongTitle">Please wait while
                        downloading...</span>
                    <div id="pause" class="d-flex align-items-center justify-content-center">
                        <!-- <div class="cardloader"> -->
                        <!-- <label class="loadertext">Please wait while downloading...</label> -->
                        <!-- <img src="assets/Images/Ellipse.png"> -->
                        <div id="spinner"></div>
                        <!-- </div> -->
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>